# 🌌 The "Cockpit" Ecosystem
> **Maximized Productivity, Minimized Friction.**
> 迷わない、壊れない、爆速の開発環境プラットフォーム。

---

## 📖 1. はじめに：これは何？

このリポジトリは、単なる設定ファイル集（Dotfiles）ではありません。
Macでの開発作業における**「面倒くさい」「危ない」「忘れる」を完全に排除**するために設計された、**自動化された運用システム（エコシステム）**です。

### 🎯 このシステムが解決する課題
1.  **「あのファイルどこ？」をなくす**
    * 📂 散らばった資料とコードを、仮想的なフォルダで一元管理します。
2.  **「環境が壊れた！」を防ぐ**
    * 🛡️ 設定の変更を安全装置（ロック）で守り、事故を防ぎます。
3.  **「セットアップが面倒」をゼロにする**
    * 🤖 コマンド一発で、エディタ・ターミナル・資料を一斉に展開します。

---

## 🏗️ 2. 設計思想 (Architecture Philosophy)

このシステムは、以下の3つのレイヤー（層）で構成されています。

```mermaid
graph TD
    User((👤 あなた)) -->|コマンド入力| Dashboard[🎮 司令塔 (dev)]
    
    subgraph 自動化システム
        Dashboard -->|命令| Robots[🤖 自動化スクリプト群]
        Robots -->|作成/展開| Workspace[🖥️ 作業スペース]
        Robots -->|設定/保護| VSCode[📝 エディタ (VS Code)]
    end
    
    subgraph 倉庫 (Dotfiles)
        Config[📦 設定の原本]
    end
    
    Config -.->|読み込み| Robots
```

### 🔑 3つの鉄則
1.  **Safety First (安全第一)**
    * 既存のファイルを勝手に上書きしません。
    * 設定画面(GUI)での誤操作を検知し、警告します。
2.  **Single Source of Truth (情報源は一つ)**
    * 全ての設定は「テキストファイル」で管理します。
    * 手動で行った変更は、必ずこのリポジトリに記録されます。
3.  **Context Oriented (文脈指向)**
    * 「ツール」から選ぶのではなく、「やりたい仕事（プロジェクト）」から選びます。

---

## 🎮 3. 使い方：すべての操作はここから

個別のコマンドを覚える必要はありません。
ターミナルで **`dev`** と打つだけで、全ての機能にアクセスできるメニューが開きます。

### 🕹️ メインメニュー (dev)

| メニュー項目 | 意味 | 何が起きる？ |
| :--- | :--- | :--- |
| **🚀 Start Work** | **仕事開始** | プロジェクトを選ぶと、VS Code・Finder・ターミナルが一斉に起動します。 |
| **🆕 New Project** | **新規作成** | 名前を入れるだけで、フォルダ作成・Git初期化・環境設定まで全自動で完了します。 |
| **📦 Archive** | **片付け** | 終わったプロジェクトをアーカイブ（倉庫）へ移動し、手元をスッキリさせます。 |
| **🗺️ Show Map** | **地図** | 現在のファイル構造をツリー図で表示します。 |
| **🐍 VS Code Profile** | **環境作成** | 新しい言語用のプロファイルを作成し、自動設定します。 |
| **🧪 Trial Mode** | **試着** | エディタの設定を一時的に変更できるようにします。（気に入らなければリセット可能） |
| **🔑 Bitwarden Env** | **パスワード** | BitwardenからAPIキーを取得し、`.env` ファイルに注入します。 |

---

## 💻 4. VS Code プロファイル管理の仕組み

このシステム最大の特徴は、**「エディタの設定をプログラムで生成（ビルド）している」**点です。

### 🚫 禁止事項
* **設定画面でフォントサイズなどを変更すること。**
    * → 再起動すると元に戻ってしまいます。
* **歯車アイコンからプロファイルを作成すること。**
    * → 管理外となり、警告が表示されます。

### ✅ 正しい変更フロー
1.  `dev` コマンドから **「🔓 Unlock Settings」** または **「🧪 Trial Mode」** を選ぶ。
2.  GUIで自由に設定を変えて試す。
3.  **「⚙️ Update Settings」** (またはステータスバーの「🔒 ロック」ボタン) を選んで、変更を確定する。

これにより、**「うっかり設定を変えてしまって、元に戻せない」という事故が物理的に起きなくなります。**

---

## 📂 5. フォルダ管理の概念 (仮想PARA)

ファイルの実体（データ）と、作業場（入り口）を分けて管理しています。

* **裏側（倉庫）**:
    * `~/Projects`: プログラムコード（Gitで管理 / カラム表示推奨）
    * `~/Creative`: 画像や動画素材（iCloud/SSDで管理 / アイコン表示推奨）
* **表側（デスク）**:
    * **`~/PARA/1_Projects`**: **ここだけ見ればOK！**
    * ここには、上記の「コード」と「素材」へのショートカットが自動で置かれています。

---

## 🔐 6. セキュリティ

* **パスワード管理:** `Bitwarden` と連携し、APIキーなどはコマンド一つで環境変数に注入されます。
* **漏洩防止:** コミット時・プッシュ時に、秘密情報が含まれていないか自動チェックが走ります (`pre-commit`)。
* **脆弱性診断:** Snyk (VS Code) と Trivy (CLI) で、コードを書いている最中から安全性をチェックします。

---

## 🚑 困ったときは？

* **設定がおかしい:** `dev` → **「🔄 Reload Shell」** を実行。
* **元に戻したい:** `dev` → **「🕰️ History/Restore」** で過去の状態にタイムスリップ。
* **やり方を忘れた:** `dev` → **「📖 Read Manual」** でこのマニュアルを表示。

---
* GEMINI by The Ultimate Dotfiles Generator*